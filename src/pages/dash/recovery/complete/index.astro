---
import VueLayout from "@/layouts/VueLayout.astro";
import CompleteRecovery from "./_CompleteRecovery.vue";

const params = new URLSearchParams(Astro.url.search);
const { userId, secret } = Object.fromEntries(params.entries());

if (!userId || !secret) {
    return Astro.rewrite("/404");
}

export const prerender = false;
---

<VueLayout>
    <CompleteRecovery client:only="vue" userId={userId} secret={secret}/>
</VueLayout>

